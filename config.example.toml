[server]
name = "mysql-readonly"
version = "v1.0.0"

[mysql]
# Example DSN: user:pass@tcp(127.0.0.1:3306)/dbname?parseTime=true&charset=utf8mb4&collation=utf8mb4_unicode_ci
# Use a read-only MySQL user and keep multiStatements disabled (default).
dsn = "readonly_user:readonly_pass@tcp(127.0.0.1:3306)/dbname?parseTime=true"

max_open_conns = 5
max_idle_conns = 5
conn_max_lifetime_seconds = 300
conn_max_idle_time_seconds = 120
query_timeout_seconds = 30
max_rows = 1000

# Allowed statement prefixes for read-only enforcement.
allow_statement_prefixes = ["select", "show", "describe", "explain"]

# Denied fragments to block edge-case writes/locks.
deny_substrings = [" into outfile", " into dumpfile", " for update", " lock in share mode"]
